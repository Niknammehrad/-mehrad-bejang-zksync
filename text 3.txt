import { Deployer } from "@matterlabs/hardhat-zksync-deploy";
import { Wallet } from "zksync-web3";
import * as dotenv from "dotenv";
dotenv.config();

export default async function (hre: any) {
  const privateKey = process.env.PRIVATE_KEY;
  if (!privateKey) throw new Error("Ù„Ø·ÙØ§Ù‹ PRIVATE_KEY Ø±Ùˆ ØªÙˆ ÙØ§ÛŒÙ„ .env Ø¨Ø°Ø§Ø±");

  const wallet = new Wallet(privateKey);
  const deployer = new Deployer(hre, wallet);

  console.log("Ø¯ÛŒÙ¾Ù„ÙˆÛŒ Ø¨Ø§ ÙˆØ§Ù„Øª:", wallet.address);
  
  const contract = await deployer.deploy("MehradBejang", [wallet.address]);

  console.log("=====================================");
  console.log("Ù…Ù‡Ø±Ø§Ø¯ Ø¨Ø¬Ù†Ú¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯ÛŒÙ¾Ù„ÙˆÛŒ Ø´Ø¯! ğŸ’™ğŸ”¥");
  console.log("Ø¢Ø¯Ø±Ø³ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯:", contract.address);
  console.log("Ø§Ú©Ø³Ù¾Ù„ÙˆØ±Ø±: https://explorer.zksync.io/address/" + contract.address);
  console.log("=====================================");
}